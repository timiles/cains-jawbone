(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{ALlA:function(t,e,n){"use strict";function o(t,e){p.options.__h&&p.options.__h(f,t,d||e),d=0;var n=f.__H||(f.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function r(t){return d=1,function(t,e,n){var r=o(h++,2);return r.t=t,r.__c||(r.__=[n?n(e):u(void 0,e),function(t){var e=r.t(r.__[0],t);r.__[0]!==e&&(r.__=[e,r.__[1]],r.__c.setState({}))}],r.__c=f),r.__}(u,t)}function s(t,e){var n=o(h++,3);!p.options.__s&&i(n.__H,e)&&(n.__=t,n.__H=e,f.__H.__h.push(n))}function _(){for(var t;t=j.shift();)if(t.__P)try{t.__H.__h.forEach(a),t.__H.__h.forEach(c),t.__H.__h=[]}catch(e){t.__H.__h=[],p.options.__e(e,t.__v)}}function a(t){var e=f,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),f=e}function c(t){var e=f;t.__c=t.__(),f=e}function i(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function u(t,e){return"function"==typeof e?e(t):e}function l(t,e,n){t.onerror=console.error,t.onmessage=({data:{event:t,progressPercent:o,result:r}})=>{switch(t){case"onProgress":void 0!==o&&n&&n(o);break;case"onResult":void 0!==r&&e(r);break;default:throw`Unexpected event: ${t}.`}}}n.r(e);var h,f,b,p=n("hosL"),d=0,j=[],m=p.options.__b,v=p.options.__r,O=p.options.diffed,g=p.options.__c,x=p.options.unmount;p.options.__b=function(t){f=null,m&&m(t)},p.options.__r=function(t){v&&v(t),h=0;var e=(f=t.__c).__H;e&&(e.__h.forEach(a),e.__h.forEach(c),e.__h=[])},p.options.diffed=function(t){O&&O(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==j.push(e)&&b===p.options.requestAnimationFrame||((b=p.options.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(o),w&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);w&&(e=requestAnimationFrame(n))})(_)),f=null},p.options.__c=function(t,e){e.some((function(t){try{t.__h.forEach(a),t.__h=t.__h.filter((function(t){return!t.__||c(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],p.options.__e(n,t.__v)}})),g&&g(t,e)},p.options.unmount=function(t){x&&x(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{a(t)}catch(t){e=t}})),e&&p.options.__e(e,n.__v))};var w="function"==typeof requestAnimationFrame,H=n("N39q");const y=new Worker(`${H.a}/assets/workers/findMatchingQuotes.js`);var I=t=>{const{jawbonePages:e,jawboneWords:n,searchWords:o}=t,[_,a]=r(),[c,i]=r();if(s((()=>{a(null)}),[o]),s((()=>{_||(l(y,a,i),y.postMessage({words1:n,words2:o}))}),[_,n,o]),!_)return Object(p.h)("p",null,Object(p.h)("i",null,"Processing... ",c,"%"));if(0===_.length)return Object(p.h)("p",null,"No quotes found ðŸ˜ž");return Object(p.h)("table",null,Object(p.h)("thead",null,Object(p.h)("tr",null,Object(p.h)("th",null,"Page"),Object(p.h)("th",null,"Quote"))),Object(p.h)("tbody",null,_.sort(((t,e)=>t.startCharIndex-e.startCharIndex)).sort(((t,e)=>t.startLineIndex-e.startLineIndex)).map((t=>Object(p.h)("tr",{key:`${t.startLineIndex}_${t.startCharIndex}`},Object(p.h)("td",null,(({startLineIndex:t,endLineIndex:e})=>`${t+1}${t!==e?` - ${e+1}`:""}`)(t)),Object(p.h)("td",null,(({startLineIndex:t,startCharIndex:n,endLineIndex:o,endCharIndex:r})=>{if(t===o)return e[t].substring(n,r);let s=e[t].substring(n);for(let n=t+1;n<o;n++)s+=`\n${e[n]}`;return s+=e[o].substring(0,r),s})(t)))))))};var L=t=>{const{url:e,onLoaded:n}=t,[o,_]=r();return s((()=>{fetch(e).then((t=>{t.ok?t.text().then((t=>{n(t)})):_("Error loading, please try refreshing.")}))}),[e,n]),o?Object(p.h)("p",{class:"error"},o):Object(p.h)("p",null,"Loading...")};var k=t=>{const{onSubmit:e}=t,[n,o]=r("");return Object(p.h)("form",{onSubmit:t=>{t.preventDefault(),e(n)}},Object(p.h)("fieldset",null,Object(p.h)("label",null,"Enter text to search for matching quotes:",Object(p.h)("textarea",{placeholder:"Search text",class:"mb-0",value:n,onBlur:t=>{const{value:e}=t.currentTarget;o(e)}})),Object(p.h)("label",{class:"label-inline"},"or import from a text file:",Object(p.h)("input",{type:"file",class:"ml-1",onInput:t=>{const{files:e}=t.currentTarget;if(e){const t=e[0];t&&t.text().then(o)}}})),Object(p.h)("div",null,Object(p.h)("input",{class:"button-primary",type:"submit",value:"Process"}))),Object(p.h)("p",null,Object(p.h)("small",null,"All processing happens in your browser, nothing is uploaded to the internet.")))};const $=new Worker(`${H.a}/assets/workers/extractWords.js`);e.default=()=>{const[t,e]=r(),[n,o]=r(),[s,_]=r(),a=t=>{e(t.split("\n")),l($,o),$.postMessage({text:t})};return t?Object(p.h)(p.Fragment,null,Object(p.h)("h1",null,"Cainâ€™s Jawbone Quote Finder"),Object(p.h)(k,{onSubmit:t=>{l($,_),$.postMessage({text:t})}}),n&&s&&Object(p.h)(I,{jawbonePages:t,jawboneWords:n,searchWords:s})):Object(p.h)(L,{url:`${H.a}/assets/cainsjawbone.txt`,onLoaded:a})}}}]);
//# sourceMappingURL=route-QuoteFinder.chunk.7eec7.esm.js.map